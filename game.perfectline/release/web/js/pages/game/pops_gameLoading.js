var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])};return function(o,a){function e(){this.constructor=o}t(o,a),o.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),GameLoading=function(t){function o(){var o=t.call(this)||this;return o.ui=new ui.views.LoadingViewUI,o._align=xframe.LayerManager.ALIGN_LEFTUP,o}return __extends(o,t),o.prototype.close=function(){t.prototype.close.call(this),Laya.timer.clear(this,this.showLoading)},o.prototype.show=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];this.params=o[0],t.prototype.show.call(this),this.onShow(),Laya.timer.frameLoop(1,this,this.showLoading),this.onStageResize()},o.prototype.onStageResize=function(){var t=Math.max(Laya.stage.width/AppConfig.AppWidth,Laya.stage.height/AppConfig.AppHeight);this.ui.bg.scale(t,t)},o.prototype.onShow=function(){var t=[{url:AppConfig.urlRoot+"res/snd/"+this.params.json+".json",type:Laya.Loader.JSON}];AppConfig.platfrom==AppConfig.Plat4399&&t.push({url:AppConfig.urlRoot+"res/snd/"+this.params.mp3+".mp3",type:Laya.Loader.SOUND}),GameView.mp3=AppConfig.urlRoot+"res/snd/"+this.params.mp3+".mp3",Laya.loader.load(t,Laya.Handler.create(this,this.loadSnd))},o.prototype.loadSnd=function(){XEvent.instance.event(GameEvent.SELECTED,this.params),this.close()},o.prototype.showLoading=function(){this.ui.loading.rotation-=5},o}(xframe.XMWindow);