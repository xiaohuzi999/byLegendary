var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),MusicCard=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=new ui.pages.MusicCardUI,e.months=["JANUARY","FEBURARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],e}return __extends(e,t),e.prototype.onCreate=function(){var t=this;this.ui.backBtn.on(Laya.Event.CLICK,null,function(){t.back()}),this.ui.topImg.on(Laya.Event.CLICK,null,function(){}),User.instace.cards.length>0?this.ui.tipsLabel.visible=!1:this.ui.tipsLabel.visible=!0,this.ui.cardList.array=User.instace.cards,this.ui.cardList.itemRender=ui.views.CardRenderItemUI,this.ui.cardList.vScrollBarSkin=null,this.ui.cardList.scrollBar.elasticBackTime=200,this.ui.cardList.scrollBar.elasticDistance=200,this.ui.cardList.renderHandler=Laya.Handler.create(this,function(e,i){t.renderItem(e,i)},null,!1),this.ui.cardList.mouseHandler=Laya.Handler.create(this,function(e,i){t.mouseItem(e,i)},null,!1)},e.prototype.renderItem=function(t,e){var i=this.ui.cardList.array[e],r=t;r.cover.skin="https://s.xiuwu.me/perfectline/res/map/"+i.card+".png";var n=i.timeTemp,a=new Date(n);r.dayLabel.text=a.getDate().toString(),r.yearLabel.text=a.getFullYear().toString(),r.mounthLabel.text=this.months[a.getMonth()];var s=GameDataManager.instance.cardConfig[i.cid];s.length>0&&(r.roleImg.skin=GameDataManager.instance.currentUserRoleImg(),r.roleImg.x=346*s[0]/750-4,r.roleImg.y=346*s[1]/750-4)},e.prototype.mouseItem=function(t,e){if(t&&t.type==Laya.Event.CLICK){var i=this.ui.cardList.array[e];Tape.PopManager.showPop(BigCardView,i)}},e.prototype.onResume=function(){},e}(xframe.XWindow);